!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function($){"use strict";var ArrayProto=Array.prototype,ObjProto=Object.prototype,push=ArrayProto.push,splice=ArrayProto.splice,hasOwnProperty=ObjProto.hasOwnProperty,namespace="Scrollax",lownamespace=namespace.toLowerCase(),numberRegExp=/[-+]?\d+(\.\d+)?/g,transforms=["translateX","translateY","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY"],$win=$(window),$doc=$(document.body),transform,gpuAcceleration,position,bind,unbind,Scrollax=function(e,t,n){var o=this,r=e&&$(e).eq(0)||$win,a=Scrollax.instances,i=null;if(e=r[0],$.each(a,function(t,n){t&&t.frame===e&&(i=!0)}),e&&!i){var l,c,s,f,u,p,d,m,h,w,g,y,v,b,x,S,O,E,T,j,P,z,A=$.extend({},Scrollax.defaults,t),C=[],L=null,W=A.parentSelector||"[data-"+lownamespace+"-parent]",Y=A.elementsSelector||"[data-"+lownamespace+"]",k={},X=[],q=isWindow(e);o.frame=e,o.options=A,o.parents=C,o.initialized=!1,o.reload=H;var B=function(e,t){var n=$(t),o=getInlineOptions($(t)),r={};r.element=t,r.options=o,r.parallaxElements=[],n.find(Y).each(function(e,t){var n=getInlineOptions($(t));n.element=t,push.call(r.parallaxElements,n)}),push.call(C,r)};o.scroll=N,o.getIndex=function(e){return void 0!==e?is_numeric(e)?e>=0&&e<C.length?e:-1:L.index(e):-1},o.one=function(e,t){return o.on(e,function n(){t.apply(o,arguments),o.off(e,n)}),o},o.on=function(e,t){if("object"==typeof e)for(var n in e)hasOwnProperty.call(e,n)&&o.on(n,e[n]);else if("function"==typeof t)for(var r=e.split(" "),a=0,i=r.length;a<i;a++)k[r[a]]=k[r[a]]||[],-1===F(r[a],t)&&push.call(k[r[a]],t);else if("array"==typeof t)for(var l=0,c=t.length;l<c;l++)o.on(e,t[l]);return o},o.off=function(e,t){if(t instanceof Array)for(var n=0,r=t.length;n<r;n++)o.off(e,t[n]);else for(var a=e.split(" "),i=0,l=a.length;i<l;i++)if(k[a[i]]=k[a[i]]||[],void 0===t)k[a[i]].length=0;else{var c=F(a[i],t);-1!==c&&splice.call(k[a[i]],c,1)}return o},o.set=function(e,t){return $.isPlainObject(e)?$.extend(A,e):hasOwnProperty.call(A,e)&&(A[e]=t),H(),o},o.destroy=function(){return unbind(window,"resize",I),unbind(e,"scroll",N),$.each(a,function(t,n){t&&t.frame===e&&splice.call(Scrollax.instances,n,1)}),C.length=0,o.initialized=!1,D("destroy"),o},o.init=function(){if(!o.initialized)return o.on(n),H(),bind(window,"resize",I),bind(e,"scroll",N),push.call(Scrollax.instances,o),o.initialized=!0,D("initialized"),o}}else warn(i?namespace+": Scrollax has been initialized for this frame!":namespace+": Frame is not available!");function H(){return L=q?$doc.find(W):r.find(W),C.length=0,m=!!A.horizontal,L.each(B),N(),A.performanceTrick&&(f=q?$doc:r),D("load"),o}function I(){l&&(l=clearTimeout(l)),l=setTimeout(function(){o.reload()})}function N(){var t=C.length;if(A.performanceTrick&&f&&(clearTimeout(u),p||(f.addClass("scrollax-performance"),p=!0),u=setTimeout(function(){f.removeClass("scrollax-performance"),p=!1},100)),t){d=getOffset(e);for(var n=0;n<t;n++)g=C[n],(w=position(g.element,e))[m?"right":"bottom"]<0||w[m?"left":"top"]>d[m?"width":"height"]||(y=g.options,h=y.offset||A.offset||0,b=w[m?"right":"bottom"],x=w[m?"width":"height"],(v=(x-b+h)/x)<0&&(b=w[m?"left":"top"],x=d[m?"width":"height"],v=(x-b+h)/x-1),v>1||v<-1||R(g,v));D("scroll",d)}}function R(e,t){var n=(S=e.parallaxElements).length;if(n)for(var o=0;o<n;o++)O=S[o],V(O.element,O,t)}function V(e,t,n){E=t.properties||(m?{translateX:"100%"}:{translateY:"100%"}),P="";for(T in E){if("number"==typeof(j=E[T]))j*=n;else if("string"==typeof j)for(z=j.match(numberRegExp),j=j,c=0,s=z.length;c<s;c++)j=j.replace(z[c],parseFloat(z[c]*n));-1!==$.inArray(T,transforms)?P+=T+"("+j+")":e.style[T]="opacity"===T?within(n<0?1+j:1-j,0,1):j}P&&(e.style[transform]=gpuAcceleration+P)}function D(e,t){if(k[e]){for(s=k[e].length,X.length=0,c=0;c<s;c++)push.call(X,k[e][c]);for(c=0;c<s;c++)X[c].call(o,e,t)}}function F(e,t){for(var n=0,o=k[e].length;n<o;n++)if(k[e][n]===t)return n;return-1}};function warn(e){if(!console||!console.warn)throw namespace+": "+e;console.warn(namespace+": "+e)}function getOffset(e){var t=!!("pageYOffset"in e);return{width:t?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:e.offsetWidth,height:t?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:e.offsetHeight,left:e[t?"pageXOffset":"scrollLeft"],top:e[t?"pageYOffset":"scrollTop"]}}function is_numeric(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(e)}function within(e,t,n){return e<t?t:e>n?n:e}function getInlineOptions($element){var data=$element.data(lownamespace.toLowerCase());return data&&eval("({"+data+"})")||{}}function isWindow(e){var t,n;return!!(e&&"object"==typeof e&&"object"==typeof e.window&&e.window==e&&e.setTimeout&&e.alert&&(t=e.document)&&"object"==typeof t&&(n=t.defaultView||t.parentWindow)&&"object"==typeof n&&n==e)}Scrollax.instances=[],function(){var e,t,n,o,r,a,i,l;position=function(c,s){return t=c.ownerDocument||c,n=t.documentElement,o=isWindow(s)?s:t.defaultView||window,s=s&&s!==t?s:n,r=(o.pageYOffset||n.scrollTop)-n.clientTop,a=(o.pageXOffset||n.scrollLeft)-n.clientLeft,i={top:0,left:0},c&&c.getBoundingClientRect?((i=function(t,n){for(e in n)t[e]=n[e];return t}({},c.getBoundingClientRect())).width=i.right-i.left,i.height=i.bottom-i.top,s===o?i:(i.top+=r,i.left+=a,i.right+=a,i.bottom+=r,s===n?i:(l=position(s),i.left-=l.left,i.right-=l.left,i.top-=l.top,i.bottom-=l.top,i))):null}}(),function(){function e(){this.returnValue=!1}function t(){this.cancelBubble=!0}bind=window.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1),n}:function(n,o,r){var a=o+r;return n[a]=n[a]||function(){var o=window.event;o.target=o.srcElement,o.preventDefault=e,o.stopPropagation=t,r.call(n,o)},n.attachEvent("on"+o,n[a]),r},unbind=window.removeEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1),n}:function(e,t,n){var o=t+n;e.detachEvent("on"+t,e[o]);try{delete e[o]}catch(t){e[o]=void 0}return n}}(),function(){var e=["","webkit","moz","ms","o"],t=document.createElement("div");function n(n){for(var o=0,r=e.length;o<r;o++){var a=e[o]?e[o]+n.charAt(0).toUpperCase()+n.slice(1):n;if(null!=t.style[a])return a}}transform=n("transform"),gpuAcceleration=n("perspective")?"translateZ(0) ":""}(),Scrollax.defaults={horizontal:!1,offset:0,parentSelector:null,elementsSelector:null,performanceTrick:!1},window.Scrollax=Scrollax,$.fn.Scrollax=function(e,t){var n,o;return $.isPlainObject(e)||("string"!=typeof e&&!1!==e||(n=!1===e?"destroy":e,o=slice.call(arguments,1)),e={}),this.each(function(r,a){var i=$.data(a,lownamespace);i||n?i&&n&&i[n]&&i[n].apply(i,o):i=$.data(a,lownamespace,new Scrollax(a,e,t).init())})},$.Scrollax=function(e,t){$win.Scrollax(e,t)};var css=".scrollax-performance, .scrollax-performance *, .scrollax-performance *:before, .scrollax-performance *:after { pointer-events: none !important; -webkit-animation-play-state: paused !important; animation-play-state: paused !important; };",head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");return style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),head.appendChild(style),Scrollax});